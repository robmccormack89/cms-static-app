{% extends "archive.twig" %}

{% block archive_styles %}
  <style>
    img.uk-height-large {
      height: 400px;
    }
    @media only screen and (max-width: 767px) {
      img.uk-height-large {
        height: 200px;
      }
    }
  </style>
{% endblock %}

{% block archive_content %}
  <div class="archive-main portfolio" data-template="portfolio.twig" data-template-extends="archive.twig">
      
    <!-- portfolio projects -->
    <section class="archive-posts uk-section">
      
      <!-- portfolio projects grid -->
      <div class="posts-grid uk-child-width-1-3@m uk-grid-large" uk-grid="">
        {% if archive.posts %}
          {% for post in archive.posts %}
            <article class="the-project {{ (loop.index == 2 or (loop.index - 2) is divisible by(5)) ? 'uk-width-2-3@m' : '' }}">
              <!-- tease featured -->
              {% if post.featured_img %}
                <figure class="blog-grid-image">
                  <a class="uk-inline uk-link-reset hover-grow-wrap uk-width-1-1" href="{{post.link}}">
                    <img class="uk-border-rounded uk-height-large uk-width-1-1 object-fit-cover" data-src="{{ (loop.index == 2 or (loop.index - 2) is divisible by(5)) ? post.featured_img.src|resize(900) : post.featured_img.src|resize(400) }}" data-width data-height alt="{{post.featured_img.alt}}" uk-img>
                  </a>
                </figure>
              {% endif %}
              <!-- tease title -->
              <h3 class="blog-grid-headline uk-margin-remove uk-h4">
                <a class="uk-link-heading" href="{{post.link}}">{{post.title}}.</a>
              </h3>
              <!-- tease meta -->
              {% if post.taxonomies.technologies or post.read_time %}
                <div class="post-details uk-margin uk-margin-small-top">
                  {% if post.taxonomies.technologies %}
                    <div class="technology-holder uk-inline">
                      {% for tech in post.taxonomies.technologies %}
                        {% if not loop.last %}
                          <a class="technology uk-link-reset" title="{{tech.title}}" href="{{tech.link}}">{{tech.title}}</a>,
                        {% else %}
                          <a class="technology uk-link-reset" title="{{tech.title}}" href="{{tech.link}}">{{tech.title}}</a>
                        {% endif %}
                      {% endfor %}
                    </div>
                  {% endif %}
                </div>
              {% endif %}
              <!-- tease link -->
              <a class="style-btn uk-text-capitalize uk-animation-toggle" href="{{post.link}}" tabindex="0">
                Read more <i class="fas fa-arrow-right uk-margin-small-left uk-animation-slide-left"></i>
              </a>
            </article>
          {% endfor %}
        {% else %}
          <span class="uk-text-emphasis">No projects found here...</span>
        {% endif %}
      </div>
      
      <!-- portfolio pagination -->
      {% if (archive.pagination.next or archive.pagination.prev) %}
        <div class="archive-pagination uk-section">
          <ul class="uk-pagination">
            {% if archive.pagination.prev %}
              <li>
                <a class="prev style-btn uk-text-capitalize uk-animation-toggle" href="{{archive.pagination.prev}}" tabindex="0">
                  <i class="fas fa-arrow-left uk-margin-small-right uk-animation-slide-right"></i> Previous
                </a>
              </li>
            {% endif %}
            {% for page in archive.pagination.pages %}
              {% if page.class == 'uk-active' %}
                <li class="{{page.class}}"><span>{{page.title}}</span></li>
              {% else %}
                <li class="{{page.class}}"><a class="style-btn" href="{{page.link}}">{{page.title}}</a></li>
              {% endif %}
            {% endfor %}
            {% if archive.pagination.next %}
              <li>
                <a class="next style-btn uk-text-capitalize uk-animation-toggle" href="{{archive.pagination.next}}" tabindex="0">
                  Next <i class="fas fa-arrow-right uk-margin-small-left uk-animation-slide-left"></i>
                </a>
              </li>
            {% endif %}
          </ul>
        </div>
      {% endif %}
      
    </section>

  </div>
{% endblock %}